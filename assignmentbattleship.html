<!doctype html>
<html>
    
<head>
<title> Battleship </title>

<style>
    body{
        background-color: FFFFFF;
        background-image: url("images/background.jpg");
        background position: center;
        background-size: cover;
        text-align: center;
        text-shadow: 1px 1px #FFFFFF;
    }
    
    #userinput{
        width: 100px;
    }
    
</style>
        
</head>

<body>
    
<h1> HIDDEN TREASURE </h1>
<h2> Find the Hidden Treasure! </h2>
<h4> The treasures are  missing on a ship and it is your job to find them quick before they sail away!</h4>
    
<section class="tile"></selection>
    
<br />

<h3 id="count"> Remaining Guesses: 8 </h3>

<p><h4> Ahoy! Guess a number between 1-20 </h4></p>
    
<input type="text" id="userInput">

<input type="button" id="btn" value="Guess!">

<h3><p id="result"></p></h3>

<script>
var chest ="<img src='images/chest.gif'>";    
var boat ="<img src='images/boat.gif'>";

var userInput=document.getElementById("userInput");   
var btn=document.querySelector("#btn");
var count=document.querySelector("#count");
var result=document.querySelector("#result");
var userOutput=document.querySelector("section");
var counter=0;
var gameboard=[];
    
for(i=0; i<20; i++){ //creates the gameboard and the span elements is to seperate the cells
    gameboard[i]= "<span class='tile'>" + "<img width='55' height='55'" + chest
 + "</span";
    userOutput.innerHTML+=gameboard[i]; //puts an increment in the section
}
          
function mathRandom(){ //to randomly place the ships on the gameboard
    return Math.floor(Math.random()*Math.floor(18))+1; //returns the number to another variable 
}

let mytile=document.querySelectorAll("span");
    var ship=mathRandom();
     
var shipLocation = new Array(); //sets up the array for the game 
    shipLocation[0]=ship;
    shipLocation[1]=ship+1;
    shipLocation[2]=ship+2;
    console.log(shipLocation[0]); //helps us see where the boats are being randomly placed
    console.log(shipLocation[1]);
    console.log(shipLocation[2]);  
    
function changetile(){
    let mytile=document.querySelectorAll("span");
    counter++ //this is to count the number of times the user uses the function changetile
    
    for(x=1; x<=8; x++){ //a loop to let the user have an amount of number to guess along with that this shows the possible answers to the guesses
        if(userInput.value-1==shipLocation[0] || userInput.value-1==shipLocation[1] ||

userInput.value-1==shipLocation[2]){ //this what happens when the user guesses it right
            mytile[userInput.value-1].innerHTML="<img width='55' height='55'" + boat;
            result.innerHTML="You hit it!"; 
        }
        
        else if((userInput.value-1)<0 || (userInput.value-1)>20){ //makes sure that the input that the user puts wont break the game
            result.innerHTML="You missed it";
            userInput.value=0;
        }
        
        else{ //if the user misses the guess
            mytile[userInput.value-1].innerHTML="<img width='55' height='55'" + chest;
            result.innerHTML="You missed it";
        }
        
        if(counter==0){ //shows the amount of guesses remaining
            count.innerHTML="Guesses remaining: " + (8-counter);
        }
        
        else if(counter==1){
            count.innerHTML="Guesses remaining: " + (8-counter);
        }
        
        else if(counter==2){
            count.innerHTML="Guesses remaining: " + (8-counter);
        }
        
        else if(counter==3){
            count.innerHTML="Guesses remaining: " +(8-counter);
        }
        
        else if(counter==4){
            count.innerHTML="Guesses remaining: " + (8-counter);
        }
        
        else if(counter==5){
            count.innerHTML="Guesses remaining: " + (8-counter);
        }
        
        else if(counter==6){
            count.innerHTML="Guesses remaining: " + (8-counter);
        }
        
        else if(counter==7){
            count.innerHTML="Guesses remaining: " + (8-counter);
        }
        
        else if(counter==8){ //incase the user runs out of guesses, the button will deactivate
            btn.disabled=true;
                count.innerHTML="You have no guesses left"
        }
        
        else{ //to end the else 
            count.innerHTML="Error";
        }
    } 
}
    
    
btn.addEventListener("click", changetile, false); //this allows the function to activate when it is pressed   
</script>
   
</body>

</html>
